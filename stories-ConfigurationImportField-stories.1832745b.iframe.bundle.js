"use strict";(globalThis.webpackChunkfyle_integrations_app=globalThis.webpackChunkfyle_integrations_app||[]).push([[1734],{"./src/app/core/models/qbo/qbo-configuration/qbo-import-setting.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>QBOImportSettingModel});var _angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/forms/fesm2020/forms.mjs"),_common_import_settings_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/models/common/import-settings.model.ts"),_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/core/models/enum/enum.model.ts");class QBOImportSettingModel extends _common_import_settings_model__WEBPACK_IMPORTED_MODULE_1__.G{static getQBOFields(){return[{attribute_type:_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__.vg.CLASS,display_name:"Class"},{attribute_type:_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__.vg.DEPARTMENT,display_name:"Department"},{attribute_type:_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__.vg.CUSTOMER,display_name:"Customer"}]}static getChartOfAccountTypesList(){return["Expense","Other Expense","Fixed Asset","Cost of Goods Sold","Current Liability","Equity","Other Current Asset","Other Current Liability","Long Term Liability","Current Asset","Income","Other Income"]}static mapAPIResponseToFormGroup(importSettings){const expenseFieldsArray=importSettings?.mapping_settings?this.constructFormArray(importSettings.mapping_settings,this.getQBOFields()):[];return new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.cw({importCategories:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_categories??!1),expenseFields:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.Oe(expenseFieldsArray),chartOfAccountTypes:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.charts_of_accounts?importSettings.workspace_general_settings.charts_of_accounts:[]),importItems:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_items??!1),taxCode:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_tax_codes??!1),importVendorsAsMerchants:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_vendors_as_merchants??!1),defaultTaxCode:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.general_mappings?.default_tax_code?.id?importSettings.general_mappings.default_tax_code:null)})}static constructPayload(importSettingsForm){const expenseFieldArray=importSettingsForm.value.expenseFields,mappingSettings=this.constructMappingSettingPayload(expenseFieldArray);return{workspace_general_settings:{import_categories:importSettingsForm.get("importCategories")?.value,import_items:importSettingsForm.get("importItems")?.value,charts_of_accounts:importSettingsForm.get("chartOfAccountTypes")?.value,import_tax_codes:importSettingsForm.get("taxCode")?.value,import_vendors_as_merchants:importSettingsForm.get("importVendorsAsMerchants")?.value},mapping_settings:mappingSettings,general_mappings:{default_tax_code:importSettingsForm.get("defaultTaxCode")?.value?importSettingsForm.get("defaultTaxCode")?.value:{id:null,name:null}}}}}},"./src/stories/utility.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>setupStoryBookFormGroup});var _angular_forms__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/forms/fesm2020/forms.mjs");const setupStoryBookFormGroup=control=>{if(delete control._parent,control instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_0__.cw||control instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_0__.nm)for(const childKey of Object.keys(control.controls))setupStoryBookFormGroup(control.controls[childKey]);else if(control instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_0__.Oe)for(const child of control.controls)setupStoryBookFormGroup(child);return control}},"./src/stories/ConfigurationImportField.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,cloneSetting:()=>cloneSetting,default:()=>__WEBPACK_DEFAULT_EXPORT__,dynamicDestinationImport:()=>dynamicDestinationImport,fixedDestinationImport:()=>fixedDestinationImport});var _angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),src_app_core_models_qbo_qbo_configuration_qbo_import_setting_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/models/qbo/qbo-configuration/qbo-import-setting.model.ts"),src_app_shared_components_configuration_configuration_import_field_configuration_import_field_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/shared/components/configuration/configuration-import-field/configuration-import-field.component.ts"),_utility__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/stories/utility.ts"),src_app_core_models_enum_enum_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/core/models/enum/enum.model.ts"),src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/shared/shared.module.ts"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2020/animations.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"Configuration/ImportSetting/ConfigurationImportField",component:src_app_shared_components_configuration_configuration_import_field_configuration_import_field_component__WEBPACK_IMPORTED_MODULE_2__.J,tags:["autodocs"],render:args=>({props:{...args}}),decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({declarations:[],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__.BrowserAnimationsModule,src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_4__.m]})],argTypes:{ngOnInit:{table:{disable:!0}}}},fixture={workspace_general_settings:{import_categories:!0,import_items:!0,import_vendors_as_merchants:!0,charts_of_accounts:["Expense"],import_tax_codes:!0},general_mappings:{default_tax_code:{id:"1",name:"Tax Code"}},mapping_settings:[{id:1,created_at:new Date,updated_at:new Date,workspace:1,source_field:"PROJECT",destination_field:"CUSTOMER",import_to_fyle:!0,is_custom:!0,source_placeholder:"source_placeholder"},{id:1,created_at:new Date,updated_at:new Date,workspace:1,source_field:"COST_CENTER",destination_field:"CLASS",import_to_fyle:!1,is_custom:!0,source_placeholder:"source_placeholder"}],workspace_id:1},importSettingForm=src_app_core_models_qbo_qbo_configuration_qbo_import_setting_model__WEBPACK_IMPORTED_MODULE_1__.z.mapAPIResponseToFormGroup(fixture),fixedDestinationImport={args:{form:(0,_utility__WEBPACK_IMPORTED_MODULE_7__.Q)(importSettingForm),appName:src_app_core_models_enum_enum_model__WEBPACK_IMPORTED_MODULE_3__.lW.QBO,accountingFieldOptions:src_app_core_models_qbo_qbo_configuration_qbo_import_setting_model__WEBPACK_IMPORTED_MODULE_1__.z.getQBOFields(),fyleFieldOptions:[{attribute_type:"PROJECT",display_name:"Project",is_dependent:!1},{attribute_type:"COST_CENTER",display_name:"Cost Center",is_dependent:!1},{attribute_type:"CUSTOM_FIELD",display_name:"Custom Field",is_dependent:!1}],isDestinationFixedImport:!0}},dynamicDestinationImport={args:{form:(0,_utility__WEBPACK_IMPORTED_MODULE_7__.Q)(importSettingForm),appName:src_app_core_models_enum_enum_model__WEBPACK_IMPORTED_MODULE_3__.lW.INTACCT,accountingFieldOptions:src_app_core_models_qbo_qbo_configuration_qbo_import_setting_model__WEBPACK_IMPORTED_MODULE_1__.z.getQBOFields(),fyleFieldOptions:[{attribute_type:"PROJECT",display_name:"Project",is_dependent:!1},{attribute_type:"COST_CENTER",display_name:"Cost Center",is_dependent:!1},{attribute_type:"CUSTOM_FIELD",display_name:"Custom Field",is_dependent:!1}],isDestinationFixedImport:!1}},cloneSetting={args:{form:(0,_utility__WEBPACK_IMPORTED_MODULE_7__.Q)(importSettingForm),appName:src_app_core_models_enum_enum_model__WEBPACK_IMPORTED_MODULE_3__.lW.INTACCT,accountingFieldOptions:src_app_core_models_qbo_qbo_configuration_qbo_import_setting_model__WEBPACK_IMPORTED_MODULE_1__.z.getQBOFields(),fyleFieldOptions:[{attribute_type:"PROJECT",display_name:"Project",is_dependent:!1},{attribute_type:"COST_CENTER",display_name:"Cost Center",is_dependent:!1},{attribute_type:"CUSTOM_FIELD",display_name:"Custom Field",is_dependent:!1}],isDestinationFixedImport:!0,isCloneSettingView:!0}},__namedExportsOrder=["fixedDestinationImport","dynamicDestinationImport","cloneSetting"]}}]);
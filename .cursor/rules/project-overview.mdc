---
description: 
globs: 
alwaysApply: false
---
# Fyle Integrations App - Project Overview

## Project Description
This is the **Fyle Integrations Settings Dashboard App** - a frontend Angular application that provides configuration interfaces for various accounting and HR system integrations with Fyle expense management platform.

## Key Information
- **Framework**: Angular 18.2.x with TypeScript
- **Styling**: TailwindCSS + PrimeNG components + SCSS
- **Main Entry Point**: [src/main.ts](mdc:src/main.ts)
- **App Module**: [src/app/app.module.ts](mdc:src/app/app.module.ts)
- **Routing**: [src/app/app-routing.module.ts](mdc:src/app/app-routing.module.ts)
- **Global Styles**: [src/styles.scss](mdc:src/styles.scss)
- **TailwindCSS Config**: [tailwind.config.js](mdc:tailwind.config.js)

## Supported Integrations
The app supports multiple accounting and HR integrations with lazy-loaded modules:

### Accounting Integrations
- **QuickBooks Desktop (QBD)**: [src/app/integrations/qbd/](mdc:src/app/integrations/qbd)
- **QuickBooks Online (QBO)**: [src/app/integrations/qbo/](mdc:src/app/integrations/qbo)
- **Xero**: [src/app/integrations/xero/](mdc:src/app/integrations/xero)
- **NetSuite**: [src/app/integrations/netsuite/](mdc:src/app/integrations/netsuite)
- **Sage Intacct**: [src/app/integrations/intacct/](mdc:src/app/integrations/intacct)
- **Sage 300**: [src/app/integrations/sage300/](mdc:src/app/integrations/sage300)
- **Microsoft Business Central**: [src/app/integrations/business-central/](mdc:src/app/integrations/business-central)
- **QuickBooks Desktop Direct**: [src/app/integrations/qbd-direct/](mdc:src/app/integrations/qbd-direct)

### HR Integrations
- **BambooHR**: [src/app/integrations/bamboo-hr/](mdc:src/app/integrations/bamboo-hr)
- **TravelPerk**: [src/app/integrations/travelperk/](mdc:src/app/integrations/travelperk)

## Project Structure
- **Core**: [src/app/core/](mdc:src/app/core) - Services, models, guards, interceptors
- **Shared**: [src/app/shared/](mdc:src/app/shared) - Reusable components, pipes, shared module
- **Integrations**: [src/app/integrations/](mdc:src/app/integrations) - Integration-specific modules
- **Auth**: [src/app/auth/](mdc:src/app/auth) - Authentication logic
- **OAuth**: [src/app/oauth/](mdc:src/app/oauth) - OAuth flow handling
- **Branding**: [src/app/branding/](mdc:src/app/branding) - Multi-tenant branding configuration
- **Environments**: [src/environments/](mdc:src/environments) - Environment-specific configurations

## Application Flow
1. **Authentication**: Users authenticate through the Auth module
2. **Integration Selection**: Users select an integration from the landing page
3. **Onboarding Flow**: First-time setup with configuration steps
4. **Management Dashboard**: Ongoing management of integration settings
5. **Export Management**: Monitoring and control of data exports

## Key Features
- **Multi-tenant Branding**: Support for different UIs based on tenant (Fyle, Capital One)
- **OAuth Integration**: Seamless connection to third-party services
- **Field Mapping**: Complex mapping between Fyle and accounting system fields
- **Export Configuration**: Customizable export settings and scheduling
- **Export Monitoring**: Logs and status tracking of exports
- **Error Handling**: Comprehensive error tracking and resolution

## Multi-Tenant Support
The app supports multiple brands with different configurations:
- **Fyle**: Default branding with Fyle-specific configurations
- **Capital One (C1)**: Custom branding for Capital One integration

## Development Commands
- `npm start` - Default development server (port 4200)
- `npm run start:fyle` - Fyle-branded version (port 4201)
- `npm run start:c1` - Capital One-branded version (port 4202)
- `npm test` - Unit tests with Jasmine/Karma
- `npm run unit_test:ci` - CI unit tests with headless Chrome
- `npm run build` - Production build with environment setup
- `npm run lint` - ESLint checks
- `npm run storybook` - Storybook development server (port 6006)
- `npm run build-storybook` - Build Storybook for deployment

## Environment Setup
Environment files are copied from [fyle-integrations-central](mdc:https:/github.com/fylein/fyle-integrations-central) repository:
- Base environment: [src/environments/environment.json](mdc:src/environments/environment.json)
- Fyle environment: [src/environments/fyle-environment.json](mdc:src/environments/fyle-environment.json)
- C1 environment: [src/environments/c1-environment.json](mdc:src/environments/c1-environment.json)

## Key Technologies
- **Angular 18.2.x**: Main framework
- **TypeScript**: Primary language
- **TailwindCSS**: Utility-first CSS framework
- **PrimeNG**: UI component library
- **RxJS**: Reactive programming
- **@auth0/angular-jwt**: JWT authentication
- **Sentry**: Error tracking and monitoring
- **ts-cacheable**: Service caching
- **ng-svg-icon-sprite**: SVG icon management

## Build Process
- Environment setup via [scripts/setup_env.js](mdc:scripts/setup_env.js)
- Branding configuration via [scripts/setup_branding_config.js](mdc:scripts/setup_branding_config.js)
- Source maps generation for Sentry
- Multi-configuration builds for different tenants

## API Integration
- RESTful API interactions with Fyle and accounting/HR systems
- OAuth 2.0 flow for third-party authentication
- JWT-based authentication for Fyle API
- Caching of API responses for performance optimization

## Security Features
- JWT token management and automatic refresh
- Secure credential storage
- Route guards for protected resources
- HTTP interceptors for authentication
- Error tracking and monitoring with Sentry




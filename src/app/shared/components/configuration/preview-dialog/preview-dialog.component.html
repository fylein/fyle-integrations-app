<div>
  <p-dialog
    [header]="header"
    [dismissableMask]="true"
    [showHeader]="true"
    [modal]="true"
    [(visible)]="isPreviewDialogVisible"
    (onHide)="close()"
    [breakpoints]="{ '960px': '75vw' }"
    [draggable]="false"
    [resizable]="false"
  >
    <ng-template pTemplate="header">
      <div class="">
        <span class="tw-text-20-px tw-font-500 tw-text-modal-header-text-color">{{ header }}</span>
      </div>
    </ng-template>
    @if (!autoSyncPaymentsPreviewClick) {
      <div class="tw-flex tw-items-center tw-justify-center tw-p-24-px tw-border-t tw-border-t-border-tertiary">
        <img height="300px" width="700px" [src]="iconPath" />
      </div>
    }
    @if (showNavigation) {
      <div class="tw-flex tw-items-center tw-justify-center tw-gap-16-px tw-pb-24-px tw-px-24-px">
        <button
          type="button"
          [disabled]="isFirstPreview"
          [class]="'tw-flex tw-items-center tw-justify-center tw-w-32-px tw-h-32-px'"
          (click)="onNavigate('previous')"
          [attr.aria-label]="'View previous module'"
          [attr.aria-disabled]="isFirstPreview"
        >
          <app-svg-icon
            [svgSource]="'arrow-circle-left'"
            [width]="'32px'"
            [height]="'32px'"
            [isTextColorAllowed]="true"
            [styleClasses]="isFirstPreview ? 'tw-text-yin-030' : 'tw-text-icon-primary'"
          >
          </app-svg-icon>
        </button>
        <span
          class="tw-ml-10-px tw-mr-10-px tw-text-14-px tw-font-500 tw-text-text-primary tw-min-w-200-px tw-text-center"
        >
          {{ 'previewDialog.' + currentModuleName | transloco }}
        </span>
        <button
          type="button"
          [disabled]="isLastPreview"
          [class]="'tw-flex tw-items-center tw-justify-center tw-w-32-px tw-h-32-px'"
          (click)="onNavigate('next')"
          [attr.aria-label]="'View next module'"
          [attr.aria-disabled]="isLastPreview"
        >
          <app-svg-icon
            [svgSource]="'arrow-circle-right'"
            [width]="'32px'"
            [height]="'32px'"
            [isTextColorAllowed]="true"
            [styleClasses]="isLastPreview ? 'tw-text-yin-030' : 'tw-text-icon-primary'"
          >
          </app-svg-icon>
        </button>
      </div>
    }
    @if (autoSyncPaymentsPreviewClick) {
      <div class="tw-w-[720px] tw-p-24-px tw-border-t tw-border-t-border-tertiary">
        <div class="tw-pb-40-px">
          <div class="tw-pb-16-px">
            <div class="tw-text-14-px tw-font-500 tw-text-text-muted tw-pb-8-px">
              {{ 'previewDialog.paymentSyncOption1Header' | transloco: { appName: appName } }}
            </div>
            <div class="tw-text-14-px tw-font-400 tw-text-text-muted tw-pb-4-px">
              {{ 'previewDialog.paymentSyncOption1SubHeader' | transloco: { appName: appName } }}
            </div>
            <div class="tw-flex tw-items-center tw-text-14-px tw-font-400 tw-text-text-muted">
              <app-svg-icon
                [svgSource]="'info-circle-fill-small'"
                [width]="'16px'"
                [height]="'16px'"
                [isTextColorAllowed]="true"
                [styleClasses]="brandingStyle.configuration.autoSyncPaymentPreviewInfoLabelIcon"
              ></app-svg-icon>
              <span class="tw-pl-4-px">{{
                'previewDialog.paymentSyncOption1Info' | transloco: { brandName: brandingConfig.brandName }
              }}</span>
            </div>
          </div>
          <div class="tw-flex tw-items-stretch tw-justify-between">
            <div
              class="tw-w-[282px] tw-text-14-px tw-font-500 tw-text-center tw-text-text-primary tw-border tw-rounded-8-px tw-border-border-brand tw-bg-action-major-25 tw-px-16-px tw-py-12-px"
            >
              {{
                'previewDialog.paymentSyncOption1LeftIllustration' | transloco: { brandName: brandingConfig.brandName }
              }}
            </div>
            <div class="tw-flex tw-flex-col tw-items-center tw-justify-center">
              <app-svg-icon
                [svgSource]="'arrow-rotate-sync'"
                [width]="'28px'"
                [height]="'28px'"
                [styleClasses]="'tw-text-mandatory-field-color'"
              >
              </app-svg-icon>
              <span class="tw-text-12-px tw-font-400 tw-text-center tw-text-text-muted">{{
                'previewDialog.autoSync' | transloco
              }}</span>
            </div>
            <div
              class="tw-w-[282px] tw-flex tw-items-center tw-text-14-px tw-font-500 tw-text-center tw-text-text-primary tw-border tw-rounded-8-px tw-border-yin-030 tw-bg-white tw-px-16-px tw-py-12-px"
            >
              {{ 'previewDialog.paymentSyncOption1RightIllustration' | transloco: { appName: appName } }}
            </div>
          </div>
        </div>
        <div>
          <div class="tw-pb-16-px">
            <div class="tw-text-14-px tw-font-500 tw-text-text-muted tw-pb-8-px">
              {{ 'previewDialog.paymentSyncOption2Header' | transloco: { brandName: brandingConfig.brandName } }}
            </div>
            <div class="tw-text-14-px tw-font-400 tw-text-text-muted tw-pb-4-px">
              {{ 'previewDialog.paymentSyncOption2SubHeader' | transloco: { brandName: brandingConfig.brandName } }}
            </div>
            <div class="tw-flex tw-items-center tw-text-14-px tw-font-400 tw-text-text-muted">
              <app-svg-icon
                [svgSource]="'info-circle-fill-small'"
                [width]="'16px'"
                [height]="'16px'"
                [isTextColorAllowed]="true"
                [styleClasses]="brandingStyle.configuration.autoSyncPaymentPreviewInfoLabelIcon"
              ></app-svg-icon>
              <span class="tw-pl-4-px">{{
                'previewDialog.paymentSyncOption2Info' | transloco: { appName: appName }
              }}</span>
            </div>
          </div>
          <div class="tw-flex tw-items-stretch tw-justify-between">
            <div
              class="tw-w-[282px] tw-text-14-px tw-font-500 tw-text-center tw-text-text-primary tw-border tw-rounded-8-px tw-border-yin-030 tw-bg-white tw-px-16-px tw-py-12-px"
            >
              {{
                'previewDialog.paymentSyncOption1LeftIllustration' | transloco: { brandName: brandingConfig.brandName }
              }}
            </div>
            <div class="tw-flex tw-flex-col tw-items-center tw-justify-center">
              <app-svg-icon
                [svgSource]="'arrow-rotate-sync'"
                [width]="'28px'"
                [height]="'28px'"
                [styleClasses]="'tw-text-mandatory-field-color'"
              >
              </app-svg-icon>
              <span class="tw-text-12-px tw-font-400 tw-text-center tw-text-text-muted">{{
                'previewDialog.autoSync' | transloco
              }}</span>
            </div>
            <div
              class="tw-w-[282px] tw-flex tw-items-center tw-text-14-px tw-font-500 tw-text-center tw-text-text-primary tw-border tw-rounded-8-px tw-border-border-brand tw-bg-action-major-25 tw-px-16-px tw-py-12-px"
            >
              {{ 'previewDialog.paymentSyncOption1RightIllustration' | transloco: { appName: appName } }}
            </div>
          </div>
        </div>
      </div>
      <div class="tw-flex tw-justify-end tw-text-14-px tw-border-t-1-px tw-px-24-px tw-py-16-px">
        <app-button
          [buttonSize]="ButtonSize.SMALL"
          [buttonType]="ButtonType.PRIMARY"
          [buttonText]="'previewDialog.previewClose' | transloco"
          (buttonClick)="close()"
        ></app-button>
      </div>
    }
  </p-dialog>
</div>

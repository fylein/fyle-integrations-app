<div class="tw-px-120-px">
    <div class="tw-shadow-app-card tw-rounded-8-px tw-bg-white tw-border-1-px tw-border-separator">
        <div class="tw-flex tw-justify-between tw-items-center tw-p-24-px">
                <h4 class="tw-font-500 tw-text-18-px">Your last export</h4>
        </div>
        <div class="tw-border-separator tw-border-t-1-px">
            <div class="tw-p-6 tw-rounded-6-px tw-bg-white">
                <div class="inside-container tw-p-10 tw-rounded-6-px tw-bg-white">
                    <div class="tw-flex tw-items-center tw-justify-between">
                        <div class="tw-flex">
                                <img src="assets/icons/green-tick.svg" alt="Success Icon" class="tw-mr-16-px">
                                <p class="tw-text-14-px tw-font-500 tw-text-slightly-normal-text-color">Successful Expenses</p>
                                <span class="tw-w-120-px tw-text-14-px tw-font-500 tw-text-right tw-text-faded-text-color">
                                    {{ accountingExportSummary?.successful_accounting_export_count ? accountingExportSummary?.successful_accounting_export_count : 0 }}
                                </span>  
                            <a *ngIf="accountingExportSummary?.successful_accounting_export_count" (click)="showExportLog(AccountingExportStatus.COMPLETE)" class="tw-ml-20-px tw-text-14-px tw-font-500 tw-text-pink pointer">View</a>
                        </div>
                        <div class="tw-flex tw-flex-col">
                            <span class="tw-w-260-px tw-text-left">
                                <span class="tw-text-14-px tw-text-faded-text-color tw-font-400">Last Export at: </span>
                                <span class="tw-text-14-px tw-font-500">{{ accountingExportSummary ? (accountingExportSummary.last_exported_at | date: 'h:mm a,') : 'None' }}
                                {{ accountingExportSummary ? (accountingExportSummary.last_exported_at | date: 'dd MMM yyyy') : '' }}</span>
                            </span>                              
                        </div>
                    </div>
                    <div class="tw-flex tw-items-center tw-mt-8-px tw-justify-between">
                        <div class="tw-flex">
                            <img src="assets/icons/red-error.svg" alt="Error Icon" class="tw-mr-16-px">
                            <p class="tw-text-14-px tw-font-500 tw-text-slightly-normal-text-color">Failed Expenses</p>
                            <span class="tw-w-150-px tw-text-right tw-text-14-px tw-font-500 tw-text-faded-text-color">
                                {{ accountingExportSummary?.failed_accounting_export_count ? accountingExportSummary?.failed_accounting_export_count : 0 }}
                            </span>
                            <a *ngIf="accountingExportSummary?.failed_accounting_export_count" (click)="showExportLog(AccountingExportStatus.FAILED)" class="tw-ml-20-px tw-text-14-px tw-font-500 tw-text-pink pointer tw-mt-2-px">View</a>
                        </div>
                        <div class="tw-flex tw-flex-col">
                            <span class="tw-w-260-px tw-text-left" *ngIf="accountingExportSummary?.next_export_at">
                                <span class="tw-text-14-px tw-text-faded-text-color tw-font-400">Next Export at: </span>
                                <span class="tw-text-14-px tw-font-500">{{ accountingExportSummary?.next_export_at ? (accountingExportSummary?.next_export_at | date: 'h:mm a,') : 'None' }}
                                {{ accountingExportSummary ? (accountingExportSummary.next_export_at | date: 'dd MMM yyyy') : '' }}</span>
                            </span> 
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div>
    <app-dashboard-export-log-dialog (hideExportLogDialog)="handleDialogClose()" [appName]="appName" [isExportLogVisible]="isExportLogVisible" [accountingExports]="filteredAccountingExports" [isExportLogFetchInProgress]="isExportLogFetchInProgress" [exportLogHeader]="exportLogHeader"></app-dashboard-export-log-dialog>
</div>
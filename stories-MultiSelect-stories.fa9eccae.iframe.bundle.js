"use strict";(globalThis.webpackChunkfyle_integrations_app=globalThis.webpackChunkfyle_integrations_app||[]).push([[166],{"./src/app/core/models/common/import-settings.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>ImportSettingsModel});var _angular_forms__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/forms/fesm2020/forms.mjs"),_rxweb_reactive_form_validators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@rxweb/reactive-form-validators/__ivy_ngcc__/fesm2015/rxweb-reactive-form-validators.js");class ImportSettingsModel{static getCustomFieldOption(){return[{attribute_type:"custom_field",display_name:"Create a Custom Field",source_placeholder:null,is_dependent:!1}]}static createFormGroup(data){return new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.cw({source_field:new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.NI(data.source_field||"",_rxweb_reactive_form_validators__WEBPACK_IMPORTED_MODULE_1__.CM.unique()),destination_field:new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.NI(data.destination_field||"",_rxweb_reactive_form_validators__WEBPACK_IMPORTED_MODULE_1__.CM.unique()),import_to_fyle:new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.NI(data.import_to_fyle||!1),is_custom:new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.NI(data.is_custom||!1),source_placeholder:new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.NI(data.source_placeholder||null)})}static constructFormArray(importSettingsMappingSettings,accountingAppFields){const expenseFieldFormArray=[],mappedFieldMap=new Map,unmappedFieldMap=new Map;return accountingAppFields.forEach((accountingAppField=>{const mappingSetting=importSettingsMappingSettings.find((setting=>setting.destination_field===accountingAppField.attribute_type)),fieldData=mappingSetting||{destination_field:accountingAppField.attribute_type,import_to_fyle:!1,is_custom:!1,source_field:"",source_placeholder:null};mappingSetting?mappedFieldMap.set(accountingAppField.attribute_type,fieldData):unmappedFieldMap.set(accountingAppField.attribute_type,fieldData)})),accountingAppFields.forEach((accountingAppField=>{const fieldData=mappedFieldMap.get(accountingAppField.attribute_type);fieldData&&expenseFieldFormArray.push(this.createFormGroup(fieldData))})),0===mappedFieldMap.size&&accountingAppFields.forEach((accountingAppField=>{if(expenseFieldFormArray.length<3){const fieldData=unmappedFieldMap.get(accountingAppField.attribute_type);fieldData&&expenseFieldFormArray.push(this.createFormGroup(fieldData))}})),expenseFieldFormArray}static constructMappingSettingPayload(expenseFieldArray){return expenseFieldArray.filter((field=>field.destination_field&&field.source_field)).map((field=>({source_field:field.source_field.toUpperCase(),destination_field:field.destination_field,import_to_fyle:field.import_to_fyle,is_custom:"PROJECT"!==field.source_field.toUpperCase()&&"COST_CENTER"!==field.source_field.toUpperCase(),source_placeholder:field.source_placeholder})))}}},"./src/app/core/models/qbo/qbo-configuration/qbo-import-setting.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>QBOImportSettingModel});var _angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/forms/fesm2020/forms.mjs"),_common_import_settings_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/models/common/import-settings.model.ts"),_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/core/models/enum/enum.model.ts");class QBOImportSettingModel extends _common_import_settings_model__WEBPACK_IMPORTED_MODULE_1__.G{static getQBOFields(){return[{attribute_type:_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__.vg.CLASS,display_name:"Class"},{attribute_type:_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__.vg.DEPARTMENT,display_name:"Department"},{attribute_type:_enum_enum_model__WEBPACK_IMPORTED_MODULE_0__.vg.CUSTOMER,display_name:"Customer"}]}static getChartOfAccountTypesList(){return["Expense","Other Expense","Fixed Asset","Cost of Goods Sold","Current Liability","Equity","Other Current Asset","Other Current Liability","Long Term Liability","Current Asset","Income","Other Income"]}static mapAPIResponseToFormGroup(importSettings){const expenseFieldsArray=importSettings?.mapping_settings?this.constructFormArray(importSettings.mapping_settings,this.getQBOFields()):[];return new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.cw({importCategories:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_categories??!1),expenseFields:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.Oe(expenseFieldsArray),chartOfAccountTypes:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.charts_of_accounts?importSettings.workspace_general_settings.charts_of_accounts:[]),importItems:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_items??!1),taxCode:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_tax_codes??!1),importVendorsAsMerchants:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.workspace_general_settings.import_vendors_as_merchants??!1),defaultTaxCode:new _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NI(importSettings?.general_mappings?.default_tax_code?.id?importSettings.general_mappings.default_tax_code:null)})}static constructPayload(importSettingsForm){const expenseFieldArray=importSettingsForm.value.expenseFields,mappingSettings=this.constructMappingSettingPayload(expenseFieldArray);return{workspace_general_settings:{import_categories:importSettingsForm.get("importCategories")?.value,import_items:importSettingsForm.get("importItems")?.value,charts_of_accounts:importSettingsForm.get("chartOfAccountTypes")?.value,import_tax_codes:importSettingsForm.get("taxCode")?.value,import_vendors_as_merchants:importSettingsForm.get("importVendorsAsMerchants")?.value},mapping_settings:mappingSettings,general_mappings:{default_tax_code:importSettingsForm.get("defaultTaxCode")?.value?importSettingsForm.get("defaultTaxCode")?.value:{id:null,name:null}}}}}},"./src/app/shared/components/input/multi-select/multi-select.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>MultiSelectComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs");let MultiSelectComponent=class MultiSelectComponent{constructor(){}};MultiSelectComponent.ctorParameters=()=>[],MultiSelectComponent.propDecorators={form:[{type:core.Input}],formControllerName:[{type:core.Input}],disabledOption:[{type:core.Input}],placeholder:[{type:core.Input}],options:[{type:core.Input}]},MultiSelectComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"app-multi-select",template:'\n<div [formGroup]="form">\n    <p-multiSelect [optionDisabled]="disabledOption" [placeholder]="placeholder" [options]="options" styleClass="tw-z-2" [formControlName]="formControllerName">\n    </p-multiSelect>\n</div>\n',styles:[":host ::ng-deep .p-multiselect-label {\n\n    z-index: 1 !important;\n\n    width: 270px !important;\n\n    padding-left: 12px !important;\n\n    padding-right: 12px !important;\n\n    padding-top: 8px !important;\n\n    padding-bottom: 8px !important\n}\n\n:host ::ng-deep .p-multiselect-panel .p-multiselect-header, :host ::ng-deep .p-multiselect-panel .p-multiselect-items {\n\n    padding: 0px !important\n}\n\n:host ::ng-deep .p-multiselect-panel .p-multiselect-items .p-multiselect-item {\n\n    margin-bottom: 0px !important\n}\n\n:host ::ng-deep .p-checkbox {\n\n    padding-top: 2px !important\n}\n\n:host ::ng-deep .p-multiselect-panel .p-multiselect-items .p-multiselect-item {\n\n    height: 32px !important;\n\n    padding-left: 16px !important;\n\n    padding-right: 16px !important;\n\n    padding-top: 0px !important;\n\n    padding-bottom: 0px !important\n}"]})],MultiSelectComponent)},"./src/stories/utility.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>setupStoryBookFormGroup});var _angular_forms__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/forms/fesm2020/forms.mjs");const setupStoryBookFormGroup=control=>{if(delete control._parent,control instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_0__.cw||control instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_0__.nm)for(const childKey of Object.keys(control.controls))setupStoryBookFormGroup(control.controls[childKey]);else if(control instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_0__.Oe)for(const child of control.controls)setupStoryBookFormGroup(child);return control}},"./node_modules/rxjs/dist/esm5/internal/observable/of.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{of:()=>of});var _util_args__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/args.js"),_from__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js");function of(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var scheduler=(0,_util_args__WEBPACK_IMPORTED_MODULE_0__.yG)(args);return(0,_from__WEBPACK_IMPORTED_MODULE_1__.D)(args,scheduler)}},"./src/stories/MultiSelect.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__,simple:()=>simple});var _angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),src_app_shared_components_input_multi_select_multi_select_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/shared/components/input/multi-select/multi-select.component.ts"),_utility__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/stories/utility.ts"),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/forms/fesm2020/forms.mjs"),src_app_core_models_qbo_qbo_configuration_qbo_import_setting_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/core/models/qbo/qbo-configuration/qbo-import-setting.model.ts"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2020/animations.mjs"),primeng_api__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/primeng/fesm2020/primeng-api.mjs"),primeng_multiselect__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/primeng/fesm2020/primeng-multiselect.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"Input/MultiSelect",component:src_app_shared_components_input_multi_select_multi_select_component__WEBPACK_IMPORTED_MODULE_1__.O,tags:["autodocs"],render:args=>({props:{...args}}),decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({declarations:[src_app_shared_components_input_multi_select_multi_select_component__WEBPACK_IMPORTED_MODULE_1__.O],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.BrowserAnimationsModule,primeng_api__WEBPACK_IMPORTED_MODULE_5__.m8,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.u5,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.UX,primeng_multiselect__WEBPACK_IMPORTED_MODULE_7__.q4]})],argTypes:{}},simple={args:{options:src_app_core_models_qbo_qbo_configuration_qbo_import_setting_model__WEBPACK_IMPORTED_MODULE_2__.z.getChartOfAccountTypesList(),placeholder:"Select Chart of Accouts",form:(0,_utility__WEBPACK_IMPORTED_MODULE_8__.Q)(new _angular_forms__WEBPACK_IMPORTED_MODULE_6__.cw({chartOfAccountTypes:new _angular_forms__WEBPACK_IMPORTED_MODULE_6__.NI(["Expense"])})),formControllerName:"chartOfAccountTypes",disabledOption:"Expense"}},__namedExportsOrder=["simple"]}}]);